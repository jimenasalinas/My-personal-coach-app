<style >
  body {
    background-image: url('<%= asset_path("demo-image-01.jpg") %>');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    height: 100vh; 
    background-color: #0a0b0c;
  }

</style >

<div>
  <div class= "text-center" style="padding-bottom: 20px;">
    <h1>
      Plan a workout with My PersonaAI Coach
    </h1>
  </div>
</div>


<div class="row">
  <div class="col-md-6 offset-md-3">
    <div class="card py-4 h-100">
      <h2 style="color: #64a19d; padding-top: 10px;" class="text-center">Personalize</h2>
      <div class="card-body text-center">
        <form action="/insert_workout" method="post">

          <div class="row" style="padding-bottom: 20px;">
            <div class="col">
              <label for="workout_date_box">Workout date</label>
              <input type="date" id="workout_date_box" name="query_workout_date" class="form-control">
            </div>
          </div>

          <div class="row" style="padding-bottom: 20px;">
     <!--     //range bar-->
            <div class="col">
              <label for="duration_minutes">Select approximate workout duration (minutes):</label>
              <div class="input-group">
                <input type="range" id="duration_minutes_range" name="query_duration_minutes" min="15" max="300" value="50" class="form-range">
                <input type="number" id="duration_minutes" name="query_duration_minutes" min="15" max="300" value="50" class="form-control" style="width: 70px;">
              </div>
<!--              <span id="selected_duration">50</span> minutes-->
            </div>
          </div>

            <script>
              // Add an event listener to the range input
              document.getElementById('duration_minutes_range').addEventListener('input', function() {
                // Update the text input with the selected value
                document.getElementById('duration_minutes').value = this.value;
                // Update the span element with the selected value
                document.getElementById('selected_duration').textContent = this.value;
              });

              // Add an event listener to the text input
              document.getElementById('duration_minutes').addEventListener('input', function() {
                // Update the range input with the entered value
                document.getElementById('duration_minutes_range').value = this.value;
                // Update the span element with the entered value
                document.getElementById('selected_duration').textContent = this.value;
              });
            </script>

            <div class="row" style="padding-bottom: 20px;">
              <div class="col">
                <label for="workout_sport_box">Select a sport:</label>
                <select id="workout_sport_box" name="query_workout_sport" class="form-control">
                  <option value="Running">Running</option>
                  <option value="Swimming">Swimming</option>
                  <option value="Cycling">Cycling</option>
                  <option value="Indoors Cycling (trainer)">Indoors Cycling (trainer)</option>
                  <option value="Jogging">Jogging</option>
                  <option value="Open Water Swimming">Open Water Swimming</option>
                  <option value="Run-Walk">Run-Walk</option>
                  <option value="Spinning">Spinning</option>
                  <option value="Trail Running">Trail Running</option>
                  <option value="Treadmill Running">Treadmill Running</option>
                  <option value="Triathlon">Triathlon</option>
                  <option value="At-home strengthening">At-home strengthening</option>
                </select>
              </div>
            </div>

<!--          equipment field, based on previous field-->


        <!-- Equipment dropdown based on the selected sport -->
        <div class="row" style="padding-bottom: 20px;">
          <div class="col">
            <label for="equipment_box">Select special equipment/ conditions:</label>
            <select id="equipment_box" name="query_equipment[]" class="form-control" multiple>
              <!-- Default option -->
              <option value="default">Default</option>
            </select>
          </div>
        </div>


        <script>
          document.getElementById('workout_sport_box').addEventListener('change', function () {
            updateEquipmentOptions();
          });

          function updateEquipmentOptions() {
            var sportSelect = document.getElementById('workout_sport_box');
            var equipmentSelect = document.getElementById('equipment_box');

            // Reset options
            equipmentSelect.innerHTML = '<option value="default">Default</option>';

            // Define options based on the selected sport
            var sport = sportSelect.value;

            if (sport === 'Swimming') {
              addOption(equipmentSelect, 'Fins');
              addOption(equipmentSelect, 'Paddles');
              addOption(equipmentSelect, 'Kick board');
              addOption(equipmentSelect, 'Pull buoy');
            } else if (sport === 'Cycling') {
              addOption(equipmentSelect, 'Hills in my area');
              addOption(equipmentSelect, 'Flat roads');
            } else if (sport === 'Running') {
              addOption(equipmentSelect, 'Hills in my area');
              addOption(equipmentSelect, 'Flat roads');
            } else if (sport === 'Triathlon') {
              addOption(equipmentSelect, 'Bike');
              addOption(equipmentSelect, 'Running shoes');
              addOption(equipmentSelect, 'Swimming equipment');
              }

            function addOption(selectElement, optionText) {
              var option = document.createElement('option');
              option.value = optionText.toLowerCase();
              option.text = optionText;
              selectElement.add(option);
            }
          }
        </script>

      <div class="row" style="padding-bottom: 20px;">
        <div class="col">
          <label for="workout_intensity_box">Adjust workout intensity:</label>
          <select id="workout_intensity_box" name="query_workout_intensity" class="form-control">
            <option value="default">Default</option>
            <option value="take_it_easy">Take it easy today</option>
          </select>
        </div>
      </div>



          <div class="row" style="padding-top: 20px;">
            <div class="col">
              <button class="btn btn-pwd">Create Workout</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>








<hr>
<style>
  .table-container {
    background-color: rgba(255, 255, 255, 0.9);
    padding: 20px;
    margin: 0 auto; /* Center the container horizontally */
  }
</style>

<div class="row" style="padding-top: 20px; padding-bottom: 20px">
  <div class="col-md-8 offset-md-2">
    <div class="card py-4 h-100 table-container">
      <h2 style="color: #a16468; padding-top: 10px;" class="text-center">My Workouts</h2>
      <div class="card-body text-center">
        <table class="table table-bordered">
          <p style="color: #343a40; padding-bottom: 20px" class="text-center">Workout history:</p>
          <thead>
            <tr>
              <th>Workout date</th>
              <th>Assignment</th>
              <th>Workout sport</th>
              <th>Workout intensity</th>
              <th>Completion status</th>
              <th>Workout feelings</th>
<!--              <th>Created at</th>
              <th>Updated at</th>-->
              <th></th>
            </tr>
          </thead>
          <tbody>
            <% @list_of_workouts.each do |a_workout| %>
              <tr>
                <td><%= a_workout.workout_date %></td>
                <td><%= a_workout.assignment %></td>
                <td><%= a_workout.workout_sport %></td>
                <td><%= a_workout.workout_intensity %></td>
                <td><%= a_workout.completion_status %></td>
                <td><%= a_workout.workout_feelings %></td>
<!--                <td><%#= time_ago_in_words(a_workout.created_at) %> ago</td>
                <td><%#= time_ago_in_words(a_workout.updated_at) %> ago</td>-->
                <td>
                  <a href="/workouts/<%= a_workout.id %>">
                    Show details
                  </a>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<hr>
